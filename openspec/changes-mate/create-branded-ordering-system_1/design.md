# 設計文件：品牌化點餐系統

## 1. 概觀

本文件闡述了品牌化點餐系統的技術架構和設計決策，旨在滿足 `@AI-mate/REQ.md` 的品牌行銷需求與 `@doc/REQ.md` 的功能性需求。

## 2. 系統架構

我們將採用**前後端分離**的微服務架構，以確保系統的靈活性與可擴充性。

-   **前端 (Frontend)**：
    -   **框架**：採用現代 JavaScript 框架（如 React 或 Vue.js）來建構一個動態且具互動性的單頁應用程式 (SPA)。
    -   **職責**：
        -   呈現所有使用者介面，包括菜單、購物車、行銷活動畫面。
        -   實現「雞娃娃」的「萌」視覺風格與品牌元素。
        -   透過 RESTful API 與後端進行資料交換。

## 3. 資料交換流程

典型的點餐流程如下：

1.  **瀏覽菜單**：前端向後端請求產品列表，後端從 `products` 資料表查詢後回傳。
2.  **建立訂單**：顧客在前端完成點餐並結帳，前端將包含商品、客製化選項的訂單資訊發送到後端。
3.  **處理訂單**：後端接收請求，驗證資料，計算總價，並將訂單寫入 `orders` 資料表。
4.  **觸發活動**：在訂單建立後，後端檢查是否滿足行銷活動條件（例如，總價超過 120 元），如果滿足，則觸發相應邏輯（如給予扭蛋機會）。
5.  **更新狀態**：店員在後台將訂單狀態標示為「已完成」，後端更新資料庫，前端同步向顧客顯示最新狀態。

## 4. 設計考量

-   **行銷活動的擴充性**：行銷規則將儲存在 `marketing_rules` 資料表中，而不是寫死在程式碼裡。這使得未來新增或修改活動（如調整扭蛋機門檻）時，只需調整資料庫記錄，無需重新部署後端服務。
-   **品牌風格的一致性**：前端將建立一個共享的元件庫，包含所有符合「雞娃娃」品牌風格的按鈕、圖示、顏色和動畫，以確保全站風格統一。
